## API Report File for "cpcall"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import { Duplex } from 'node:stream';

declare namespace core {
    export {
        CpCall,
        CpCallBase,
        CpCaller,
        CpcController,
        CpcFailAsyncRespondError,
        CpcFailRespondError,
        CpcFrameSource,
        CpcUnregisteredCommandError,
        MakeCallers,
        RemoteCallError,
        FrameType,
        RpcFrame,
        _default as trans
    }
}
export { core }

// Warning: (ae-incompatible-release-tags) The symbol "CpCall" is marked as @public, but its signature references "CpCallBase" which is marked as @internal
// Warning: (ae-incompatible-release-tags) The symbol "CpCall" is marked as @public, but its signature references "CpCallBase" which is marked as @internal
// Warning: (ae-incompatible-release-tags) The symbol "CpCall" is marked as @public, but its signature references "CpCallBase" which is marked as @internal
// Warning: (ae-incompatible-release-tags) The symbol "CpCall" is marked as @public, but its signature references "CpCallBase" which is marked as @internal
//
// @public (undocumented)
class CpCall extends CpCallBase {
    static call<T extends (...args: any[]) => any>(proxyObj: T, ...args: Parameters<T>): ReturnType<T>;
    static exec<T extends (...args: any[]) => any>(proxyObj: T, ...args: Parameters<T>): void;
    static fromByteIterable(ctrl: CpcFrameSource<Uint8Array>): CpCall;
    // Warning: (ae-forgotten-export) The symbol "GenCallerOpts" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "AnyCaller" needs to be exported by the entry point index.d.ts
    genCaller(prefix?: string, opts?: GenCallerOpts): AnyCaller;
    // Warning: (ae-forgotten-export) The symbol "ChianProxy" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "CallerProxyPrototype" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    genCaller<R extends object>(prefix?: string, opts?: GenCallerOpts): ChianProxy<R, CallerProxyPrototype>;
    setObject(obj: object, cmd?: string): void;
}

// @internal
abstract class CpCallBase {
    constructor(frameSource: CpcFrameSource<RpcFrame>);
    // (undocumented)
    protected get calleePromiseNum(): number;
    caller: CpCaller;
    clearFn(): void;
    // Warning: (ae-forgotten-export) The symbol "OnceListenable" needs to be exported by the entry point index.d.ts
    readonly closeEvent: OnceListenable<void> & {
        getPromise(): Promise<void>;
    };
    disable(): Promise<void>;
    dispose(reason?: any): void;
    getAllFn(): IterableIterator<string>;
    // Warning: (ae-forgotten-export) The symbol "RpcFn" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected _getFn(cmd: string): RpcFn | undefined;
    // (undocumented)
    protected _licensers: Map<string, RpcFn>;
    removeFn(cmd: any): void;
    // Warning: (ae-forgotten-export) The symbol "CmdFn" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "FnOpts" needs to be exported by the entry point index.d.ts
    setFn(cmd: any, fn: CmdFn, opts?: FnOpts): void;
}

// @public (undocumented)
interface CpCaller {
    call(...args: any[]): Promise<any>;
    readonly disableEvent: OnceListenable<void> & {
        getPromise(): Promise<void>;
    };
    dispose(reason?: any): void;
    end(): Promise<void>;
    ended: 0 | 1 | 2 | 3;
    exec(...args: any[]): void;
    readonly finishEvent: OnceListenable<void> & {
        getPromise(): Promise<void>;
    };
}

// @public
type CpcController<T = RpcFrame> = {
    nextFrame(frame: T): void;
    endFrame(error?: any): void;
};

// @public
class CpcFailAsyncRespondError extends Error {
}

// @public
class CpcFailRespondError extends Error {
    constructor();
}

// @public
type CpcFrameSource<T = RpcFrame> = {
    sendFrame(frame: T): void;
    init(controller: CpcController<T>): void;
    close(): void | Promise<void>;
    dispose(reason?: any): void;
};

// @public
class CpcUnregisteredCommandError extends Error {
    constructor(cmd: any);
}

// @public
function createSocketCpc(duplex: Duplex): CpCall;

// Warning: (ae-forgotten-export) The symbol "WebSocket_2" needs to be exported by the entry point index.d.ts
//
// @public
function createWebSocketCpc(websocket: WebSocket_2): CpCall;

// @public
function createWebsocketCpcOnOpen(websocket: WebSocket_2): Promise<CpCall>;

// @public
function createWebStreamCpc(stream: WebStreamSuite): CpCall;

// @internal (undocumented)
const _default: {
    createFrameIterator: typeof createFrameIterator;
    createCpcFrameParser: typeof createCpcFrameParser;
    packCpcFrames: typeof packCpcFrames;
    decodeCpcFrame: typeof decodeCpcFrame;
    unpackCpcFrames: typeof unpackCpcFrames;
    CpcFrameEncoder: typeof CpcFrameEncoder;
};

// @public
enum FrameType {
    // (undocumented)
    call = 1,
    // (undocumented)
    disable = 255,
    // (undocumented)
    end = 254,
    // (undocumented)
    error = 7,
    // (undocumented)
    exec = 2,
    // (undocumented)
    promise = 8,
    // (undocumented)
    reject = 10,
    // (undocumented)
    resolve = 9,
    // (undocumented)
    return = 11,
    // (undocumented)
    throw = 12
}

// Warning: (ae-forgotten-export) The symbol "MakeCallerFn" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
type MakeCallers<T extends object, E extends object = {}> = T extends (...args: infer A) => infer R ? MakeCallerFn<A, R> & ChianProxy<T, E> : ChianProxy<T, E>;

declare namespace node {
    export {
        CpcFailAsyncRespondError,
        CpcFailRespondError,
        CpcUnregisteredCommandError,
        MakeCallers,
        RemoteCallError,
        CpcFrameSource as RpcFrameCtrl,
        CpCall,
        createSocketCpc
    }
}
export { node }

// @public
class RemoteCallError extends Error {
    // (undocumented)
    code?: any;
}

// Warning: (ae-forgotten-export) The symbol "CalleeFrame" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "CallerFrame" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "Frame" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
type RpcFrame = CalleeFrame | CallerFrame | Frame.ResponseError;

declare namespace web {
    export {
        CpcFailAsyncRespondError,
        CpcFailRespondError,
        CpcUnregisteredCommandError,
        MakeCallers,
        RemoteCallError,
        CpcFrameSource as RpcFrameCtrl,
        CpCall,
        WebStreamSuite,
        createWebSocketCpc,
        createWebStreamCpc,
        createWebsocketCpcOnOpen
    }
}
export { web }

// @public (undocumented)
type WebStreamSuite = {
    readable: ReadableStream_2<Uint8Array>;
    writable: WritableStream_2<Uint8Array>;
};

// Warnings were encountered during analysis:
//
// dist/cpc.d.ts:36:5 - (ae-forgotten-export) The symbol "createFrameIterator" needs to be exported by the entry point index.d.ts
// dist/cpc.d.ts:37:5 - (ae-forgotten-export) The symbol "createCpcFrameParser" needs to be exported by the entry point index.d.ts
// dist/cpc.d.ts:38:5 - (ae-forgotten-export) The symbol "packCpcFrames" needs to be exported by the entry point index.d.ts
// dist/cpc.d.ts:39:5 - (ae-forgotten-export) The symbol "decodeCpcFrame" needs to be exported by the entry point index.d.ts
// dist/cpc.d.ts:40:5 - (ae-forgotten-export) The symbol "unpackCpcFrames" needs to be exported by the entry point index.d.ts
// dist/cpc.d.ts:41:5 - (ae-forgotten-export) The symbol "CpcFrameEncoder" needs to be exported by the entry point index.d.ts
// dist/web.d.ts:42:5 - (ae-forgotten-export) The symbol "ReadableStream_2" needs to be exported by the entry point index.d.ts
// dist/web.d.ts:43:5 - (ae-forgotten-export) The symbol "WritableStream_2" needs to be exported by the entry point index.d.ts

// (No @packageDocumentation comment for this package)

```
